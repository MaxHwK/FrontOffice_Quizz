{% extends 'layout.html.twig' %}

{% block title %}Liste des Questions{% endblock %}

{% block css %}
    <link rel="stylesheet" href="/assets/css/admin/listQuestion.css">
{% endblock %}

{% block toggler %} 
    <a class="nav-link" href="/admin"><i class="bi bi-tools"></i>Administation <span class="sr-only"><span class="sr-only"></span></a>
    <a class="nav-link" href="/user"><i class="bi bi-people-fill"></i> Utilisateurs <span class="sr-only"></span></a>
    <a class="nav-link active" href="/question"><i class="bi bi-question-circle-fill"></i> Questions <span class="sr-only"></span></a>
    <a class="nav-link deconnexion" href="/disconnection"><i class="bi bi-x-circle-fill"></i> Se déconnecter <span class="sr-only"></span></a>
{% endblock %}

{% block navbar %}  
    <a class="nav-link text-center" href="/admin"><i class="bi bi-tools"></i>Administation <span class="sr-only"></span></a>
    <a class="nav-link text-center" href="/user"><i class="bi bi-people-fill"></i>Utilisateurs <span class="sr-only"></span></a>
    <a class="nav-link active text-center" href="/question"><i class="bi bi-question-circle-fill"></i>Questions <span class="sr-only"></span></a>
    <a class="nav-link text-center deconnexion" href="/disconnection"><i class="bi bi-x-circle-fill"></i>Se déconnecter<span class="sr-only"></span></a>  
{% endblock %}

{% block body %}
    <div class="infocontainer text-center">
        <div class="infolandscape p-1 mb-1 bg-light text-dark text-center"> <i class="bi bi-info-circle-fill"></i> Veuillez passer en mode paysage pour avoir une meilleure expérience d'utilisation.</div>
        <br>
    </div>

    <div class="container">
        <table class="table table-striped table-dark text-center align-middle">
            <thead>
                <tr>
                    <th scope="col" id="id">Id</th>
                    <th scope="col" id="label">Label</th>
                    <th scope="col" id="level">Niveau</th>
                    <th scope="col" id="answers">Réponses</th>
                    <th scope="col" id="action">Action</th>
                </tr>
            </thead>
            
            <tbody id="itemList">
                {% for question in questions %}
                    <tr>
                        <th scope="row">{{ question.id }}</th>
                        <td>{{ question.label }}</td>
                        <td>{{ question.level }}</td>
                        <td>{% for answer in question.answers %}
                                R : {{ answer.label }}</br>
                            {% endfor %}
                        </td>
                        <td>
                            <a href="/questionupdate?idquestion={{ question.id }}" class="btn btn-warning btn-sm">Modifier</a>
                            <a href="?idquestion={{ question.id }}" data-id="{{ question.id }}" class="btn btn-danger btn-sm delete-question">Supprimer</a>
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}

{% block js %}
    <script src="/js/delete.js"></script>
{% endblock %}
